<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ignacio Nino">
<meta name="dcterms.date" content="2023-05-19">

<title>Homework 1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="homework1_files/libs/clipboard/clipboard.min.js"></script>
<script src="homework1_files/libs/quarto-html/quarto.js"></script>
<script src="homework1_files/libs/quarto-html/popper.min.js"></script>
<script src="homework1_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="homework1_files/libs/quarto-html/anchor.min.js"></script>
<link href="homework1_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="homework1_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="homework1_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="homework1_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="homework1_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#this-is-the-result-of-the-first-homework-of-the-course-e628-sum23-data-science-for-business-at-london-business-school" id="toc-this-is-the-result-of-the-first-homework-of-the-course-e628-sum23-data-science-for-business-at-london-business-school" class="nav-link active" data-scroll-target="#this-is-the-result-of-the-first-homework-of-the-course-e628-sum23-data-science-for-business-at-london-business-school">This is the result of the first homework of the course “E628 SUM23 Data Science For Business” at London Business School</a></li>
  <li><a href="#i-analysed-data-of-nyc-flights-to-get-a-first-understanding-of-how-to-use-r" id="toc-i-analysed-data-of-nyc-flights-to-get-a-first-understanding-of-how-to-use-r" class="nav-link" data-scroll-target="#i-analysed-data-of-nyc-flights-to-get-a-first-understanding-of-how-to-use-r">I analysed data of NYC flights to get a first understanding of how to use R</a></li>
  <li><a href="#data-manipulation" id="toc-data-manipulation" class="nav-link" data-scroll-target="#data-manipulation">Data Manipulation</a>
  <ul class="collapse">
  <li><a href="#problem-1-use-logical-operators-to-find-flights-that" id="toc-problem-1-use-logical-operators-to-find-flights-that" class="nav-link" data-scroll-target="#problem-1-use-logical-operators-to-find-flights-that">Problem 1: Use logical operators to find flights that:</a></li>
  <li><a href="#problem-2-what-months-had-the-highest-and-lowest-proportion-of-cancelled-flights-interpret-any-seasonal-patterns.-to-determine-if-a-flight-was-cancelled-use-the-following-code" id="toc-problem-2-what-months-had-the-highest-and-lowest-proportion-of-cancelled-flights-interpret-any-seasonal-patterns.-to-determine-if-a-flight-was-cancelled-use-the-following-code" class="nav-link" data-scroll-target="#problem-2-what-months-had-the-highest-and-lowest-proportion-of-cancelled-flights-interpret-any-seasonal-patterns.-to-determine-if-a-flight-was-cancelled-use-the-following-code">Problem 2: What months had the highest and lowest proportion of cancelled flights? Interpret any seasonal patterns. To determine if a flight was cancelled use the following code</a></li>
  <li><a href="#problem-3-what-plane-specified-by-the-tailnum-variable-traveled-the-most-times-from-new-york-city-airports-in-2013-please-left_join-the-resulting-table-with-the-table-planes-also-included-in-the-nycflights13-package." id="toc-problem-3-what-plane-specified-by-the-tailnum-variable-traveled-the-most-times-from-new-york-city-airports-in-2013-please-left_join-the-resulting-table-with-the-table-planes-also-included-in-the-nycflights13-package." class="nav-link" data-scroll-target="#problem-3-what-plane-specified-by-the-tailnum-variable-traveled-the-most-times-from-new-york-city-airports-in-2013-please-left_join-the-resulting-table-with-the-table-planes-also-included-in-the-nycflights13-package.">Problem 3: What plane (specified by the <code>tailnum</code> variable) traveled the most times from New York City airports in 2013? Please <code>left_join()</code> the resulting table with the table <code>planes</code> (also included in the <code>nycflights13</code> package).</a></li>
  <li><a href="#problem-4-the-nycflights13-package-includes-a-table-weather-that-describes-the-weather-during-2013.-use-that-table-to-answer-the-following-questions" id="toc-problem-4-the-nycflights13-package-includes-a-table-weather-that-describes-the-weather-during-2013.-use-that-table-to-answer-the-following-questions" class="nav-link" data-scroll-target="#problem-4-the-nycflights13-package-includes-a-table-weather-that-describes-the-weather-during-2013.-use-that-table-to-answer-the-following-questions">Problem 4: The <code>nycflights13</code> package includes a table (<code>weather</code>) that describes the weather during 2013. Use that table to answer the following questions:</a></li>
  <li><a href="#problem-5-use-the-flights-and-planes-tables-to-answer-the-following-questions" id="toc-problem-5-use-the-flights-and-planes-tables-to-answer-the-following-questions" class="nav-link" data-scroll-target="#problem-5-use-the-flights-and-planes-tables-to-answer-the-following-questions">Problem 5: Use the <code>flights</code> and <code>planes</code> tables to answer the following questions:</a></li>
  <li><a href="#problem-6-use-the-flights-and-planes-tables-to-answer-the-following-questions" id="toc-problem-6-use-the-flights-and-planes-tables-to-answer-the-following-questions" class="nav-link" data-scroll-target="#problem-6-use-the-flights-and-planes-tables-to-answer-the-following-questions">Problem 6: Use the <code>flights</code> and <code>planes</code> tables to answer the following questions:</a></li>
  <li><a href="#problem-7-use-the-nycflights13-to-answer-the-following-questions" id="toc-problem-7-use-the-nycflights13-to-answer-the-following-questions" class="nav-link" data-scroll-target="#problem-7-use-the-nycflights13-to-answer-the-following-questions">Problem 7: Use the <code>nycflights13</code> to answer the following questions:</a></li>
  <li><a href="#problem-8-lets-take-a-closer-look-at-what-carriers-service-the-route-to-san-francisco-international-sfo.-join-the-flights-and-airlines-tables-and-count-which-airlines-flew-the-most-to-sfo.-produce-a-new-dataframe-fly_into_sfo-that-contains-three-variables-the-name-of-the-airline-e.g.-united-air-lines-inc.-not-ua-the-count-number-of-times-it-flew-to-sfo-and-the-percent-of-the-trips-that-that-particular-airline-flew-to-sfo." id="toc-problem-8-lets-take-a-closer-look-at-what-carriers-service-the-route-to-san-francisco-international-sfo.-join-the-flights-and-airlines-tables-and-count-which-airlines-flew-the-most-to-sfo.-produce-a-new-dataframe-fly_into_sfo-that-contains-three-variables-the-name-of-the-airline-e.g.-united-air-lines-inc.-not-ua-the-count-number-of-times-it-flew-to-sfo-and-the-percent-of-the-trips-that-that-particular-airline-flew-to-sfo." class="nav-link" data-scroll-target="#problem-8-lets-take-a-closer-look-at-what-carriers-service-the-route-to-san-francisco-international-sfo.-join-the-flights-and-airlines-tables-and-count-which-airlines-flew-the-most-to-sfo.-produce-a-new-dataframe-fly_into_sfo-that-contains-three-variables-the-name-of-the-airline-e.g.-united-air-lines-inc.-not-ua-the-count-number-of-times-it-flew-to-sfo-and-the-percent-of-the-trips-that-that-particular-airline-flew-to-sfo.">Problem 8: Let’s take a closer look at what carriers service the route to San Francisco International (SFO). Join the <code>flights</code> and <code>airlines</code> tables and count which airlines flew the most to SFO. Produce a new dataframe, <code>fly_into_sfo</code> that contains three variables: the <code>name</code> of the airline, e.g., <code>United Air Lines Inc.</code> not <code>UA</code>, the count (number) of times it flew to SFO, and the <code>percent</code> of the trips that that particular airline flew to SFO.</a></li>
  <li><a href="#problem-9-lets-take-a-look-at-cancellations-of-flights-to-sfo.-we-create-a-new-dataframe-cancellations-as-follows" id="toc-problem-9-lets-take-a-look-at-cancellations-of-flights-to-sfo.-we-create-a-new-dataframe-cancellations-as-follows" class="nav-link" data-scroll-target="#problem-9-lets-take-a-look-at-cancellations-of-flights-to-sfo.-we-create-a-new-dataframe-cancellations-as-follows">Problem 9: Let’s take a look at cancellations of flights to SFO. We create a new dataframe <code>cancellations</code> as follows</a></li>
  <li><a href="#problem-10-on-your-own-hollywood-age-gap" id="toc-problem-10-on-your-own-hollywood-age-gap" class="nav-link" data-scroll-target="#problem-10-on-your-own-hollywood-age-gap">Problem 10: On your own – Hollywood Age Gap</a></li>
  </ul></li>
  <li><a href="#details" id="toc-details" class="nav-link" data-scroll-target="#details">Details</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Homework 1</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Ignacio Nino </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 19, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="this-is-the-result-of-the-first-homework-of-the-course-e628-sum23-data-science-for-business-at-london-business-school" class="level2">
<h2 class="anchored" data-anchor-id="this-is-the-result-of-the-first-homework-of-the-course-e628-sum23-data-science-for-business-at-london-business-school">This is the result of the first homework of the course “E628 SUM23 Data Science For Business” at London Business School</h2>
</section>
<section id="i-analysed-data-of-nyc-flights-to-get-a-first-understanding-of-how-to-use-r" class="level2">
<h2 class="anchored" data-anchor-id="i-analysed-data-of-nyc-flights-to-get-a-first-understanding-of-how-to-use-r">I analysed data of NYC flights to get a first understanding of how to use R</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.2     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.2     ✔ tibble    3.2.1
✔ lubridate 1.9.2     ✔ tidyr     1.3.0
✔ purrr     1.0.1     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(nycflights13)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(flights)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co">#Understand the data by visualizing it and summarizing variables</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">view</span>(flights)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(flights)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      year          month             day           dep_time    sched_dep_time
 Min.   :2013   Min.   : 1.000   Min.   : 1.00   Min.   :   1   Min.   : 106  
 1st Qu.:2013   1st Qu.: 4.000   1st Qu.: 8.00   1st Qu.: 907   1st Qu.: 906  
 Median :2013   Median : 7.000   Median :16.00   Median :1401   Median :1359  
 Mean   :2013   Mean   : 6.549   Mean   :15.71   Mean   :1349   Mean   :1344  
 3rd Qu.:2013   3rd Qu.:10.000   3rd Qu.:23.00   3rd Qu.:1744   3rd Qu.:1729  
 Max.   :2013   Max.   :12.000   Max.   :31.00   Max.   :2400   Max.   :2359  
                                                 NA's   :8255                 
   dep_delay          arr_time    sched_arr_time   arr_delay       
 Min.   : -43.00   Min.   :   1   Min.   :   1   Min.   : -86.000  
 1st Qu.:  -5.00   1st Qu.:1104   1st Qu.:1124   1st Qu.: -17.000  
 Median :  -2.00   Median :1535   Median :1556   Median :  -5.000  
 Mean   :  12.64   Mean   :1502   Mean   :1536   Mean   :   6.895  
 3rd Qu.:  11.00   3rd Qu.:1940   3rd Qu.:1945   3rd Qu.:  14.000  
 Max.   :1301.00   Max.   :2400   Max.   :2359   Max.   :1272.000  
 NA's   :8255      NA's   :8713                  NA's   :9430      
   carrier              flight       tailnum             origin         
 Length:336776      Min.   :   1   Length:336776      Length:336776     
 Class :character   1st Qu.: 553   Class :character   Class :character  
 Mode  :character   Median :1496   Mode  :character   Mode  :character  
                    Mean   :1972                                        
                    3rd Qu.:3465                                        
                    Max.   :8500                                        
                                                                        
     dest              air_time        distance         hour      
 Length:336776      Min.   : 20.0   Min.   :  17   Min.   : 1.00  
 Class :character   1st Qu.: 82.0   1st Qu.: 502   1st Qu.: 9.00  
 Mode  :character   Median :129.0   Median : 872   Median :13.00  
                    Mean   :150.7   Mean   :1040   Mean   :13.18  
                    3rd Qu.:192.0   3rd Qu.:1389   3rd Qu.:17.00  
                    Max.   :695.0   Max.   :4983   Max.   :23.00  
                    NA's   :9430                                  
     minute        time_hour                     
 Min.   : 0.00   Min.   :2013-01-01 05:00:00.00  
 1st Qu.: 8.00   1st Qu.:2013-04-04 13:00:00.00  
 Median :29.00   Median :2013-07-03 10:00:00.00  
 Mean   :26.23   Mean   :2013-07-03 05:22:54.64  
 3rd Qu.:44.00   3rd Qu.:2013-10-01 07:00:00.00  
 Max.   :59.00   Max.   :2013-12-31 23:00:00.00  
                                                 </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>skimr<span class="sc">::</span><span class="fu">skim</span>(flights)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">flights</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">336776</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">19</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">character</td>
<td style="text-align: left;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">14</td>
</tr>
<tr class="even">
<td style="text-align: left;">POSIXct</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 19%">
<col style="width: 13%">
<col style="width: 19%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 8%">
<col style="width: 12%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">min</th>
<th style="text-align: right;">max</th>
<th style="text-align: right;">empty</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: right;">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">carrier</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">tailnum</td>
<td style="text-align: right;">2512</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4043</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">origin</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">dest</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">105</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 17%">
<col style="width: 11%">
<col style="width: 16%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 6%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">year</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">2013.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">2013</td>
<td style="text-align: right;">2013</td>
<td style="text-align: right;">2013</td>
<td style="text-align: right;">2013</td>
<td style="text-align: right;">2013</td>
<td style="text-align: left;">▁▁▇▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">month</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">6.55</td>
<td style="text-align: right;">3.41</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">12</td>
<td style="text-align: left;">▇▆▆▆▇</td>
</tr>
<tr class="odd">
<td style="text-align: left;">day</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">15.71</td>
<td style="text-align: right;">8.77</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">16</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">31</td>
<td style="text-align: left;">▇▇▇▇▆</td>
</tr>
<tr class="even">
<td style="text-align: left;">dep_time</td>
<td style="text-align: right;">8255</td>
<td style="text-align: right;">0.98</td>
<td style="text-align: right;">1349.11</td>
<td style="text-align: right;">488.28</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">907</td>
<td style="text-align: right;">1401</td>
<td style="text-align: right;">1744</td>
<td style="text-align: right;">2400</td>
<td style="text-align: left;">▁▇▆▇▃</td>
</tr>
<tr class="odd">
<td style="text-align: left;">sched_dep_time</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1344.25</td>
<td style="text-align: right;">467.34</td>
<td style="text-align: right;">106</td>
<td style="text-align: right;">906</td>
<td style="text-align: right;">1359</td>
<td style="text-align: right;">1729</td>
<td style="text-align: right;">2359</td>
<td style="text-align: left;">▁▇▇▇▃</td>
</tr>
<tr class="even">
<td style="text-align: left;">dep_delay</td>
<td style="text-align: right;">8255</td>
<td style="text-align: right;">0.98</td>
<td style="text-align: right;">12.64</td>
<td style="text-align: right;">40.21</td>
<td style="text-align: right;">-43</td>
<td style="text-align: right;">-5</td>
<td style="text-align: right;">-2</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">1301</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">arr_time</td>
<td style="text-align: right;">8713</td>
<td style="text-align: right;">0.97</td>
<td style="text-align: right;">1502.05</td>
<td style="text-align: right;">533.26</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1104</td>
<td style="text-align: right;">1535</td>
<td style="text-align: right;">1940</td>
<td style="text-align: right;">2400</td>
<td style="text-align: left;">▁▃▇▇▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">sched_arr_time</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1536.38</td>
<td style="text-align: right;">497.46</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1124</td>
<td style="text-align: right;">1556</td>
<td style="text-align: right;">1945</td>
<td style="text-align: right;">2359</td>
<td style="text-align: left;">▁▃▇▇▇</td>
</tr>
<tr class="odd">
<td style="text-align: left;">arr_delay</td>
<td style="text-align: right;">9430</td>
<td style="text-align: right;">0.97</td>
<td style="text-align: right;">6.90</td>
<td style="text-align: right;">44.63</td>
<td style="text-align: right;">-86</td>
<td style="text-align: right;">-17</td>
<td style="text-align: right;">-5</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">1272</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">flight</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1971.92</td>
<td style="text-align: right;">1632.47</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">553</td>
<td style="text-align: right;">1496</td>
<td style="text-align: right;">3465</td>
<td style="text-align: right;">8500</td>
<td style="text-align: left;">▇▃▃▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">air_time</td>
<td style="text-align: right;">9430</td>
<td style="text-align: right;">0.97</td>
<td style="text-align: right;">150.69</td>
<td style="text-align: right;">93.69</td>
<td style="text-align: right;">20</td>
<td style="text-align: right;">82</td>
<td style="text-align: right;">129</td>
<td style="text-align: right;">192</td>
<td style="text-align: right;">695</td>
<td style="text-align: left;">▇▂▂▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">distance</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1039.91</td>
<td style="text-align: right;">733.23</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">502</td>
<td style="text-align: right;">872</td>
<td style="text-align: right;">1389</td>
<td style="text-align: right;">4983</td>
<td style="text-align: left;">▇▃▂▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">hour</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">13.18</td>
<td style="text-align: right;">4.66</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">23</td>
<td style="text-align: left;">▁▇▇▇▅</td>
</tr>
<tr class="even">
<td style="text-align: left;">minute</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">26.23</td>
<td style="text-align: right;">19.30</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">29</td>
<td style="text-align: right;">44</td>
<td style="text-align: right;">59</td>
<td style="text-align: left;">▇▃▆▃▅</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: POSIXct</strong></p>
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 13%">
<col style="width: 9%">
<col style="width: 13%">
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 8%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: left;">min</th>
<th style="text-align: left;">max</th>
<th style="text-align: left;">median</th>
<th style="text-align: right;">n_unique</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">time_hour</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">2013-01-01 05:00:00</td>
<td style="text-align: left;">2013-12-31 23:00:00</td>
<td style="text-align: left;">2013-07-03 10:00:00</td>
<td style="text-align: right;">6936</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="data-manipulation" class="level1">
<h1>Data Manipulation</h1>
<section id="problem-1-use-logical-operators-to-find-flights-that" class="level2">
<h2 class="anchored" data-anchor-id="problem-1-use-logical-operators-to-find-flights-that">Problem 1: Use logical operators to find flights that:</h2>
<pre><code></code></pre>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Had an arrival delay of two or more hours (&gt; 120 minutes)</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>Problem1_1 <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>                <span class="fu">filter</span>(arr_delay <span class="sc">&gt;</span> <span class="dv">120</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>                <span class="fu">arrange</span>(arr_delay) <span class="co">#to see if the minimum value is above 120</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(Problem1_1[<span class="st">'arr_delay'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   arr_delay     
 Min.   : 121.0  
 1st Qu.: 138.0  
 Median : 164.0  
 Mean   : 185.2  
 3rd Qu.: 208.0  
 Max.   :1272.0  </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Summarise table only for arr_delay variable. Data seems to be ok. It filtered 10,034 rows, and the lowest arr_delay value is above 120.</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------------------------------------------------------------</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Flew to Houston (IAH or HOU)</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>Problem1_2 <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>                <span class="fu">filter</span>(dest <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"IAH"</span>,<span class="st">"HOU"</span>))</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span>(Problem1_2,dest) <span class="co">#Make sure that the only variables in "dest" are HOU or IAH</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  dest      n
  &lt;chr&gt; &lt;int&gt;
1 HOU    2115
2 IAH    7198</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------------------------------------------------------------</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Were operated by United (`UA`), American (`AA`), or Delta (`DL`)</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>Problem1_3 <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>                <span class="fu">filter</span>(carrier <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"UA"</span>,<span class="st">"AA"</span>,<span class="st">"DL"</span>))</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span>(Problem1_3,carrier) <span class="co">#Make sure that the filter is correct</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  carrier     n
  &lt;chr&gt;   &lt;int&gt;
1 AA      32729
2 DL      48110
3 UA      58665</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------------------------------------------------------------</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. Departed in summer (July, August, and September)</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>Problem1_4 <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>                <span class="fu">filter</span>(month <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"7"</span>,<span class="st">"8"</span>,<span class="st">"9"</span>))</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="fu">count</span>(Problem1_4,month) <span class="co">#Make sure that the filter is correct</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  month     n
  &lt;int&gt; &lt;int&gt;
1     7 29425
2     8 29327
3     9 27574</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------------------------------------------------------------</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 5. Arrived more than two hours late, but didn't leave late</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>Problem1_5 <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>                <span class="fu">filter</span>(arr_delay <span class="sc">&gt;</span> <span class="dv">120</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>                <span class="fu">filter</span>(dep_delay <span class="sc">&lt;=</span><span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>                <span class="fu">arrange</span>(arr_delay)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(Problem1_5[<span class="fu">c</span>(<span class="st">'arr_delay'</span>, <span class="st">'dep_delay'</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   arr_delay       dep_delay      
 Min.   :121.0   Min.   :-11.000  
 1st Qu.:124.0   1st Qu.: -5.000  
 Median :129.0   Median : -3.000  
 Mean   :134.1   Mean   : -3.483  
 3rd Qu.:140.0   3rd Qu.: -2.000  
 Max.   :194.0   Max.   :  0.000  </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Summarise table to check filters. Both conditions are met.</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co"># -------------------------------------------------------------------------------</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 6. Were delayed by at least an hour, but made up over 30 minutes in flight</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>Problem1_6 <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>                <span class="fu">filter</span>(dep_delay <span class="sc">&gt;=</span> <span class="dv">60</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>                <span class="fu">filter</span>(air_time <span class="sc">&gt;=</span><span class="dv">30</span>)</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(Problem1_6[<span class="fu">c</span>(<span class="st">'dep_delay'</span>, <span class="st">'air_time'</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   dep_delay         air_time    
 Min.   :  60.0   Min.   : 30.0  
 1st Qu.:  76.0   1st Qu.: 76.0  
 Median : 100.0   Median :118.0  
 Mean   : 120.9   Mean   :138.3  
 3rd Qu.: 144.0   3rd Qu.:165.0  
 Max.   :1301.0   Max.   :666.0  </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Summarise table to check filters. Both conditions are met.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="problem-2-what-months-had-the-highest-and-lowest-proportion-of-cancelled-flights-interpret-any-seasonal-patterns.-to-determine-if-a-flight-was-cancelled-use-the-following-code" class="level2">
<h2 class="anchored" data-anchor-id="problem-2-what-months-had-the-highest-and-lowest-proportion-of-cancelled-flights-interpret-any-seasonal-patterns.-to-determine-if-a-flight-was-cancelled-use-the-following-code">Problem 2: What months had the highest and lowest proportion of cancelled flights? Interpret any seasonal patterns. To determine if a flight was cancelled use the following code</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Assumption: Proportion of cancelled flights is the division of cancelled flights in a particular month, over the total flights of that month.</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Group table by month, and count the total rows and the ones that has a cancelled flight</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>Problem2 <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>              <span class="fu">group_by</span>(month) <span class="sc">%&gt;%</span> </span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>              <span class="fu">summarize</span>(</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">N_flights =</span> <span class="fu">n</span>(), <span class="co">#Count flights per month</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">N_cancelled =</span> <span class="fu">sum</span>(<span class="fu">is.na</span>(dep_time)), <span class="co">#Count cancelled flights per month</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">Prop =</span> N_cancelled <span class="sc">/</span> N_flights <span class="co">#Proportion</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>              )</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>Problem2 <span class="co">#View table</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 4
   month N_flights N_cancelled    Prop
   &lt;int&gt;     &lt;int&gt;       &lt;int&gt;   &lt;dbl&gt;
 1     1     27004         521 0.0193 
 2     2     24951        1261 0.0505 
 3     3     28834         861 0.0299 
 4     4     28330         668 0.0236 
 5     5     28796         563 0.0196 
 6     6     28243        1009 0.0357 
 7     7     29425         940 0.0319 
 8     8     29327         486 0.0166 
 9     9     27574         452 0.0164 
10    10     28889         236 0.00817
11    11     27268         233 0.00854
12    12     28135        1025 0.0364 </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># What months had the highest and lowest % of cancelled flights?</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(Problem2,<span class="fu">desc</span>(Prop)) <span class="co">#Sort table by prop</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 4
   month N_flights N_cancelled    Prop
   &lt;int&gt;     &lt;int&gt;       &lt;int&gt;   &lt;dbl&gt;
 1     2     24951        1261 0.0505 
 2    12     28135        1025 0.0364 
 3     6     28243        1009 0.0357 
 4     7     29425         940 0.0319 
 5     3     28834         861 0.0299 
 6     4     28330         668 0.0236 
 7     5     28796         563 0.0196 
 8     1     27004         521 0.0193 
 9     8     29327         486 0.0166 
10     9     27574         452 0.0164 
11    11     27268         233 0.00854
12    10     28889         236 0.00817</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Month with highest proportion of cancelled flights: February (5.05%)</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Month with lowest proportion of cancelled flights: September (1.64%)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="problem-3-what-plane-specified-by-the-tailnum-variable-traveled-the-most-times-from-new-york-city-airports-in-2013-please-left_join-the-resulting-table-with-the-table-planes-also-included-in-the-nycflights13-package." class="level2">
<h2 class="anchored" data-anchor-id="problem-3-what-plane-specified-by-the-tailnum-variable-traveled-the-most-times-from-new-york-city-airports-in-2013-please-left_join-the-resulting-table-with-the-table-planes-also-included-in-the-nycflights13-package.">Problem 3: What plane (specified by the <code>tailnum</code> variable) traveled the most times from New York City airports in 2013? Please <code>left_join()</code> the resulting table with the table <code>planes</code> (also included in the <code>nycflights13</code> package).</h2>
<p>For the plane with the greatest number of flights and that had more than 50 seats, please create a table where it flew to during 2013.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Filter flights from NYC and summarizing them for plane</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>Problem3 <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>              <span class="fu">filter</span>(origin <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'JFK'</span>,<span class="st">'LGA'</span>,<span class="st">'EWR'</span>)) <span class="sc">%&gt;%</span> <span class="co">#Flights from NYC</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>              <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(tailnum)) <span class="sc">%&gt;%</span> <span class="co">#Filter rows with tailnum</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>              <span class="fu">count</span>(tailnum) <span class="sc">%&gt;%</span> <span class="co">#Summarise for plane</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>              <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="co">#Sort results</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>Problem3 <span class="co">#View table.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4,043 × 2
   tailnum     n
   &lt;chr&gt;   &lt;int&gt;
 1 N725MQ    575
 2 N722MQ    513
 3 N723MQ    507
 4 N711MQ    486
 5 N713MQ    483
 6 N258JB    427
 7 N298JB    407
 8 N353JB    404
 9 N351JB    402
10 N735MQ    396
# ℹ 4,033 more rows</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Join tables to gather more information about planes</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>Problem3 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(Problem3,planes, <span class="at">by=</span><span class="st">"tailnum"</span>)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>Problem3 <span class="co">#View table</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4,043 × 10
   tailnum     n  year type        manufacturer model engines seats speed engine
   &lt;chr&gt;   &lt;int&gt; &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;        &lt;chr&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; 
 1 N725MQ    575    NA &lt;NA&gt;        &lt;NA&gt;         &lt;NA&gt;       NA    NA    NA &lt;NA&gt;  
 2 N722MQ    513    NA &lt;NA&gt;        &lt;NA&gt;         &lt;NA&gt;       NA    NA    NA &lt;NA&gt;  
 3 N723MQ    507    NA &lt;NA&gt;        &lt;NA&gt;         &lt;NA&gt;       NA    NA    NA &lt;NA&gt;  
 4 N711MQ    486  1976 Fixed wing… GULFSTREAM … G115…       2    22    NA Turbo…
 5 N713MQ    483    NA &lt;NA&gt;        &lt;NA&gt;         &lt;NA&gt;       NA    NA    NA &lt;NA&gt;  
 6 N258JB    427  2006 Fixed wing… EMBRAER      ERJ …       2    20    NA Turbo…
 7 N298JB    407  2009 Fixed wing… EMBRAER      ERJ …       2    20    NA Turbo…
 8 N353JB    404  2012 Fixed wing… EMBRAER      ERJ …       2    20    NA Turbo…
 9 N351JB    402  2012 Fixed wing… EMBRAER      ERJ …       2    20    NA Turbo…
10 N735MQ    396    NA &lt;NA&gt;        &lt;NA&gt;         &lt;NA&gt;       NA    NA    NA &lt;NA&gt;  
# ℹ 4,033 more rows</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Identify plane that traveled the most</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>Problem3_plane <span class="ot">=</span> <span class="fu">filter</span>(Problem3,n<span class="sc">==</span><span class="fu">max</span>(n))</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>Problem3_plane <span class="co">#Visualize results</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 10
  tailnum     n  year type  manufacturer model engines seats speed engine
  &lt;chr&gt;   &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;        &lt;chr&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; 
1 N725MQ    575    NA &lt;NA&gt;  &lt;NA&gt;         &lt;NA&gt;       NA    NA    NA &lt;NA&gt;  </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="do">##Unfortunately, there's no data for the plane that traveled the most from NYC in 2013. The plane is the "N725MQ", but there's no information about the model, manufacturer, etc.</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="do">##Given that the instructions ask for the plane with more than 50 seats, and the plane identified doesn't have seats information, I will run the code again to filter by seats</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>Problem3 <span class="ot">&lt;-</span> Problem3 <span class="sc">%&gt;%</span> </span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>              <span class="fu">filter</span>(seats<span class="sc">&gt;=</span><span class="dv">50</span>) <span class="co">#Filter planes with more than 50 seats</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>Problem3 <span class="co">#View table</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3,200 × 10
   tailnum     n  year type        manufacturer model engines seats speed engine
   &lt;chr&gt;   &lt;int&gt; &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;        &lt;chr&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; 
 1 N328AA    393  1986 Fixed wing… BOEING       767-…       2   255    NA Turbo…
 2 N338AA    388  1987 Fixed wing… BOEING       767-…       2   255    NA Turbo…
 3 N327AA    387  1986 Fixed wing… BOEING       767-…       2   255    NA Turbo…
 4 N335AA    385  1987 Fixed wing… BOEING       767-…       2   255    NA Turbo…
 5 N323AA    357  1986 Fixed wing… BOEING       767-…       2   255    NA Turbo…
 6 N319AA    354  1985 Fixed wing… BOEING       767-…       2   255    NA Turbo…
 7 N336AA    353  1987 Fixed wing… BOEING       767-…       2   255    NA Turbo…
 8 N329AA    344  1987 Fixed wing… BOEING       767-…       2   255    NA Turbo…
 9 N789JB    332  2011 Fixed wing… AIRBUS       A320…       2   200    NA Turbo…
10 N324AA    328  1986 Fixed wing… BOEING       767-…       2   255    NA Turbo…
# ℹ 3,190 more rows</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>Problem3_plane <span class="ot">=</span> <span class="fu">filter</span>(Problem3,n<span class="sc">==</span><span class="fu">max</span>(n)) <span class="co">#Store the information of the plane</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(Problem3_plane) <span class="co">#Print information of the plane</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1
Columns: 10
$ tailnum      &lt;chr&gt; "N328AA"
$ n            &lt;int&gt; 393
$ year         &lt;int&gt; 1986
$ type         &lt;chr&gt; "Fixed wing multi engine"
$ manufacturer &lt;chr&gt; "BOEING"
$ model        &lt;chr&gt; "767-223"
$ engines      &lt;int&gt; 2
$ seats        &lt;int&gt; 255
$ speed        &lt;int&gt; NA
$ engine       &lt;chr&gt; "Turbo-fan"</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Destinations table for the plane</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>Problem3_dest <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">right_join</span>(Problem3_plane,flights, <span class="at">by=</span><span class="st">"tailnum"</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">count</span>(dest) <span class="sc">%&gt;%</span> <span class="co">#Summarize results by destination</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="co">#Sort results</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>Problem3_dest <span class="co">#Show data</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  dest      n
  &lt;chr&gt; &lt;int&gt;
1 LAX     313
2 SFO      52
3 MIA      25
4 BOS       1
5 MCO       1
6 SJU       1</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Probably right_join wasn't the best way to do it, but it combines the plane that traveled the most, with the flights</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="do">##The table works, the destination where this plane flew the most was LAX</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="problem-4-the-nycflights13-package-includes-a-table-weather-that-describes-the-weather-during-2013.-use-that-table-to-answer-the-following-questions" class="level2">
<h2 class="anchored" data-anchor-id="problem-4-the-nycflights13-package-includes-a-table-weather-that-describes-the-weather-during-2013.-use-that-table-to-answer-the-following-questions">Problem 4: The <code>nycflights13</code> package includes a table (<code>weather</code>) that describes the weather during 2013. Use that table to answer the following questions:</h2>
<pre><code>-   What is the distribution of temperature (`temp`) in July 2013? Identify any important outliers in terms of the `wind_speed` variable.
-   What is the relationship between `dewp` and `humid`?
-   What is the relationship between `precip` and `visib`?</code></pre>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">view</span> (weather) <span class="co">#Understand the table</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>P4 <span class="ot">&lt;-</span> weather <span class="sc">%&gt;%</span> </span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>              <span class="fu">filter</span>(month <span class="sc">==</span> <span class="dv">7</span>) <span class="sc">%&gt;%</span> <span class="co">#July flights</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>              <span class="fu">group_by</span>(day) <span class="sc">%&gt;%</span> <span class="co">#Group the info by day</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>              <span class="fu">summarise</span>(<span class="at">P4_avg_weather =</span> <span class="fu">mean</span>(temp),</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>                          <span class="at">P4_avg_ws =</span> <span class="fu">mean</span>(wind_speed))</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>P4 <span class="co">#View table.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 31 × 3
     day P4_avg_weather P4_avg_ws
   &lt;int&gt;          &lt;dbl&gt;     &lt;dbl&gt;
 1     1           74.6      9.69
 2     2           76.3     10.9 
 3     3           77.4      9.32
 4     4           81.0     NA   
 5     5           82.7     10.4 
 6     6           85.7     10.8 
 7     7           85.9     10.9 
 8     8           81.6     11.2 
 9     9           81.2      8.41
10    10           80.6      9.97
# ℹ 21 more rows</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co">#At an aggregate level, I can't visualice any month that act as an outlier. To analyze it at a more detailed level, I will plot the results and not averaging them</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Distribution of temperatures in July</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>P4_2 <span class="ot">&lt;-</span> weather <span class="sc">%&gt;%</span> </span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>          <span class="fu">filter</span>(month<span class="sc">==</span><span class="dv">7</span>) <span class="co">#July flights</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>P4Plot_temp <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data=</span>P4_2,</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">aes</span>(<span class="at">x=</span>day,</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>                          <span class="at">y=</span>temp))<span class="sc">+</span></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">geom_point</span>()</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>P4Plot_temp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="homework1_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="do">##Temperatures follows a pattern. The only day where it behave different was on July 25th, where temperatures were unsually low</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Distribution of Wind speed in July</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>P4Plot_ws <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data=</span>P4_2,</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">aes</span>(<span class="at">x=</span>day,</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>                          <span class="at">y=</span>wind_speed))<span class="sc">+</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">geom_point</span>()</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>P4Plot_ws</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 2 rows containing missing values (`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="homework1_files/figure-html/unnamed-chunk-5-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="do">##There are some outliers in the data. Mostly days where wind_speed was 0 and &gt;25</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Relationship between `dewp` and `humid`</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>P4Plot_dewp_humid <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data=</span>P4_2,</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">aes</span>(<span class="at">x=</span>dewp,</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>                          <span class="at">y=</span>humid))<span class="sc">+</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">geom_point</span>()</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>P4Plot_dewp_humid</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="homework1_files/figure-html/unnamed-chunk-5-3.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="do">## It appears that the variables have a positive correlation. My guess is that here there are at least 3 clusters (you can see three big groups that could have an exponential relationship). I guess that if we filter with another variable we could see that relationship.</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Relationship between `precip` and `visib`</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>P4Plot_precip_visib <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data=</span>P4_2,</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">aes</span>(<span class="at">x=</span>precip,</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">y=</span>visib))<span class="sc">+</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">geom_point</span>()</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>P4Plot_precip_visib</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="homework1_files/figure-html/unnamed-chunk-5-4.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co">#There's not likely any correlation between these variables</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="problem-5-use-the-flights-and-planes-tables-to-answer-the-following-questions" class="level2">
<h2 class="anchored" data-anchor-id="problem-5-use-the-flights-and-planes-tables-to-answer-the-following-questions">Problem 5: Use the <code>flights</code> and <code>planes</code> tables to answer the following questions:</h2>
<pre><code>-   How many planes have a missing date of manufacture?
-   What are the five most common manufacturers?
-   Has the distribution of manufacturer changed over time as reflected by the airplanes flying from NYC in 2013? (Hint: you may need to use case_when() to recode the manufacturer name and collapse rare vendors into a category called Other.)</code></pre>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Planes with missing date of manufacture</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="fu">view</span>(planes) <span class="co">#Show table</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Looking at the table, there's no plane without a date of manufacture</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a><span class="co">#Five most common manufacturers</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>P5_2 <span class="ot">&lt;-</span> planes <span class="sc">%&gt;%</span> <span class="co">#Use planes table to summarize it for manufacturers</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(manufacturer)) <span class="sc">%&gt;%</span> <span class="co">#Filter rows with manufacturers</span></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">count</span>(manufacturer) <span class="sc">%&gt;%</span> <span class="co">#Summarise for every manufacturer</span></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="co">#Sort results</span></span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>P5_2 <span class="co">#View table.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 35 × 2
   manufacturer                      n
   &lt;chr&gt;                         &lt;int&gt;
 1 BOEING                         1630
 2 AIRBUS INDUSTRIE                400
 3 BOMBARDIER INC                  368
 4 AIRBUS                          336
 5 EMBRAER                         299
 6 MCDONNELL DOUGLAS               120
 7 MCDONNELL DOUGLAS AIRCRAFT CO   103
 8 MCDONNELL DOUGLAS CORPORATION    14
 9 CANADAIR                          9
10 CESSNA                            9
# ℹ 25 more rows</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="do">## The 5 most common manufacturers are BOEING, AIRBUS INDUSTRIE, BOMBARDIER INC, AIRBUS, and EMBRAER</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Distribution of manufacturers for planes flying from NYC</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>P5_3 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(flights,planes, <span class="at">by=</span><span class="st">"tailnum"</span>) <span class="sc">%&gt;%</span>  <span class="co">#Join tables</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>          <span class="fu">filter</span>(origin <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'JFK'</span>,<span class="st">'LGA'</span>,<span class="st">'EWR'</span>)) <span class="sc">%&gt;%</span>  <span class="co">#Flights from NYC</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>          <span class="fu">group_by</span>(month,manufacturer) <span class="sc">%&gt;%</span> <span class="co">#See the evolution for every month</span></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>          <span class="fu">summarise</span>(<span class="at">count=</span><span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'month'. You can override using the
`.groups` argument.</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>P5_3 <span class="co">#View table</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 372 × 3
# Groups:   month [12]
   month manufacturer          count
   &lt;int&gt; &lt;chr&gt;                 &lt;int&gt;
 1     1 AGUSTA SPA                3
 2     1 AIRBUS                 3916
 3     1 AIRBUS INDUSTRIE       3367
 4     1 AMERICAN AIRCRAFT INC     8
 5     1 AVIAT AIRCRAFT INC        5
 6     1 BARKER JACK L            26
 7     1 BEECH                     7
 8     1 BELL                      3
 9     1 BOEING                 6623
10     1 BOMBARDIER INC         1925
# ℹ 362 more rows</code></pre>
</div>
</div>
</section>
<section id="problem-6-use-the-flights-and-planes-tables-to-answer-the-following-questions" class="level2">
<h2 class="anchored" data-anchor-id="problem-6-use-the-flights-and-planes-tables-to-answer-the-following-questions">Problem 6: Use the <code>flights</code> and <code>planes</code> tables to answer the following questions:</h2>
<pre><code>-   What is the oldest plane (specified by the tailnum variable) that flew from New York City airports in 2013?
-   How many airplanes that flew from New York City are included in the planes table?</code></pre>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Oldest plane</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>P6_1 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(flights,planes, <span class="at">by=</span><span class="st">"tailnum"</span>) <span class="sc">%&gt;%</span>  <span class="co">#Join tables</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>          <span class="fu">filter</span>(origin <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'JFK'</span>,<span class="st">'LGA'</span>,<span class="st">'EWR'</span>)) <span class="sc">%&gt;%</span>  <span class="co">#Flights from NYC</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>          <span class="fu">filter</span>(year.y<span class="sc">==</span><span class="fu">min</span>(year.y,<span class="at">na.rm=</span><span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> <span class="co">#Filter rows with the oldest plane</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>          <span class="fu">distinct</span>(tailnum) <span class="co">#One row per plane</span></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>P6_1 <span class="co">#View table</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  tailnum
  &lt;chr&gt;  
1 N381AA </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="do">##The oldest plane is N381AA</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Planes from NYC included in the table</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>P6_2 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(flights,planes, <span class="at">by=</span><span class="st">"tailnum"</span>) <span class="sc">%&gt;%</span>  <span class="co">#Join tables</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>          <span class="fu">filter</span>(origin <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'JFK'</span>,<span class="st">'LGA'</span>,<span class="st">'EWR'</span>)) <span class="sc">%&gt;%</span>  <span class="co">#Flights from NYC</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>          <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(tailnum)) <span class="sc">%&gt;%</span> <span class="co">#Filter rows with data in tailnum</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>          <span class="fu">summarise</span>(<span class="fu">n_distinct</span>(tailnum))</span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>P6_2 <span class="co">#View table</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  `n_distinct(tailnum)`
                  &lt;int&gt;
1                  4043</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co">#There are 4043 different planes that flew from NYC in 2013</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="problem-7-use-the-nycflights13-to-answer-the-following-questions" class="level2">
<h2 class="anchored" data-anchor-id="problem-7-use-the-nycflights13-to-answer-the-following-questions">Problem 7: Use the <code>nycflights13</code> to answer the following questions:</h2>
<pre><code>-   What is the median arrival delay on a month-by-month basis in each airport?
-   For each airline, plot the median arrival delay for each month and origin airport.</code></pre>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Monthly median arrival delay in each airport</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>P7_1 <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">group_by</span>(origin,month) <span class="sc">%&gt;%</span> <span class="co">#Group by airport and month</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarise</span>(<span class="at">median_ad=</span><span class="fu">median</span>(arr_delay,<span class="at">na.rm=</span><span class="cn">TRUE</span>)) <span class="co">#Calculate median</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'origin'. You can override using the
`.groups` argument.</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>P7_1 <span class="co">#View table</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 36 × 3
# Groups:   origin [3]
   origin month median_ad
   &lt;chr&gt;  &lt;int&gt;     &lt;dbl&gt;
 1 EWR        1         0
 2 EWR        2        -2
 3 EWR        3        -4
 4 EWR        4        -1
 5 EWR        5        -6
 6 EWR        6        -1
 7 EWR        7        -2
 8 EWR        8        -5
 9 EWR        9       -13
10 EWR       10        -6
# ℹ 26 more rows</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Plot median arrival rate for each AIRLINE, MONTH, and ORIGIN</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>P7_2 <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">group_by</span>(carrier,month,origin) <span class="sc">%&gt;%</span> <span class="co">#Group by variables</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">summarise</span>(<span class="at">median_ad2=</span><span class="fu">median</span>(arr_delay,<span class="at">na.rm=</span><span class="cn">TRUE</span>)) <span class="co">#Calculate median</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'carrier', 'month'. You can override using
the `.groups` argument.</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>P7_2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 399 × 4
# Groups:   carrier, month [185]
   carrier month origin median_ad2
   &lt;chr&gt;   &lt;int&gt; &lt;chr&gt;       &lt;dbl&gt;
 1 9E          1 EWR          -1  
 2 9E          1 JFK          -4  
 3 9E          1 LGA           0  
 4 9E          2 EWR          -8  
 5 9E          2 JFK          -6  
 6 9E          2 LGA          -1  
 7 9E          3 EWR         -14  
 8 9E          3 JFK         -11  
 9 9E          3 LGA         -11  
10 9E          4 EWR         -15.5
# ℹ 389 more rows</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>P7_2_PLOT <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data=</span>P7_2,</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">aes</span>(<span class="at">x=</span>month,</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">y=</span>median_ad2))<span class="sc">+</span></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>          <span class="fu">geom_point</span>()<span class="sc">+</span></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>          <span class="fu">facet_wrap</span>(<span class="sc">~</span>carrier) <span class="co">#Group by carrier</span></span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>P7_2_PLOT</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="homework1_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="problem-8-lets-take-a-closer-look-at-what-carriers-service-the-route-to-san-francisco-international-sfo.-join-the-flights-and-airlines-tables-and-count-which-airlines-flew-the-most-to-sfo.-produce-a-new-dataframe-fly_into_sfo-that-contains-three-variables-the-name-of-the-airline-e.g.-united-air-lines-inc.-not-ua-the-count-number-of-times-it-flew-to-sfo-and-the-percent-of-the-trips-that-that-particular-airline-flew-to-sfo." class="level2">
<h2 class="anchored" data-anchor-id="problem-8-lets-take-a-closer-look-at-what-carriers-service-the-route-to-san-francisco-international-sfo.-join-the-flights-and-airlines-tables-and-count-which-airlines-flew-the-most-to-sfo.-produce-a-new-dataframe-fly_into_sfo-that-contains-three-variables-the-name-of-the-airline-e.g.-united-air-lines-inc.-not-ua-the-count-number-of-times-it-flew-to-sfo-and-the-percent-of-the-trips-that-that-particular-airline-flew-to-sfo.">Problem 8: Let’s take a closer look at what carriers service the route to San Francisco International (SFO). Join the <code>flights</code> and <code>airlines</code> tables and count which airlines flew the most to SFO. Produce a new dataframe, <code>fly_into_sfo</code> that contains three variables: the <code>name</code> of the airline, e.g., <code>United Air Lines Inc.</code> not <code>UA</code>, the count (number) of times it flew to SFO, and the <code>percent</code> of the trips that that particular airline flew to SFO.</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Airlines that flew the most to SFO</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="fu">view</span>(airlines) <span class="co">#Explore data</span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>P8 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(flights,airlines,<span class="at">by=</span><span class="st">"carrier"</span>) <span class="sc">%&gt;%</span>  <span class="co">#Join tables</span></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(dest<span class="sc">==</span><span class="st">"SFO"</span>) <span class="sc">%&gt;%</span> <span class="co">#Flights to SFO</span></span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">count</span>(name) <span class="sc">%&gt;%</span> <span class="co">#Summarise by number of flights</span></span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="co">#Sort</span></span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>P8</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  name                       n
  &lt;chr&gt;                  &lt;int&gt;
1 United Air Lines Inc.   6819
2 Virgin America          2197
3 Delta Air Lines Inc.    1858
4 American Airlines Inc.  1422
5 JetBlue Airways         1035</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="do">##There are 5 airlines that flew to SFO: United Air Lines Inc.,Virgin America, Delta Air Lines Inc., American Airlines Inc., and JetBlue Airways</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Fly_into_sfo</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>fly_into_sfo <span class="ot">&lt;-</span> <span class="fu">left_join</span>(flights,airlines,<span class="at">by=</span><span class="st">"carrier"</span>) <span class="sc">%&gt;%</span>  <span class="co">#Join tables</span></span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>                <span class="fu">group_by</span>(name) <span class="sc">%&gt;%</span> </span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>                <span class="fu">summarize</span>(</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>                  <span class="at">N_flights =</span> <span class="fu">n</span>(), <span class="co">#Count flights per airline</span></span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a>                  <span class="at">count =</span> <span class="fu">sum</span>(dest<span class="sc">==</span><span class="st">"SFO"</span>, <span class="at">na.rm=</span><span class="cn">TRUE</span>), <span class="co">#Count flights to SFO</span></span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a>                  <span class="at">percent =</span> <span class="fu">sum</span>(dest<span class="sc">==</span><span class="st">"SFO"</span>, <span class="at">na.rm=</span><span class="cn">TRUE</span>)<span class="sc">/</span><span class="fu">n</span>() <span class="co">#Proportion</span></span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a>                ) <span class="sc">%&gt;%</span> </span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a>                <span class="fu">arrange</span>(<span class="fu">desc</span>(percent))</span>
<span id="cb72-13"><a href="#cb72-13" aria-hidden="true" tabindex="-1"></a>fly_into_sfo <span class="co">#View table</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 16 × 4
   name                        N_flights count percent
   &lt;chr&gt;                           &lt;int&gt; &lt;int&gt;   &lt;dbl&gt;
 1 Virgin America                   5162  2197  0.426 
 2 United Air Lines Inc.           58665  6819  0.116 
 3 American Airlines Inc.          32729  1422  0.0434
 4 Delta Air Lines Inc.            48110  1858  0.0386
 5 JetBlue Airways                 54635  1035  0.0189
 6 AirTran Airways Corporation      3260     0  0     
 7 Alaska Airlines Inc.              714     0  0     
 8 Endeavor Air Inc.               18460     0  0     
 9 Envoy Air                       26397     0  0     
10 ExpressJet Airlines Inc.        54173     0  0     
11 Frontier Airlines Inc.            685     0  0     
12 Hawaiian Airlines Inc.            342     0  0     
13 Mesa Airlines Inc.                601     0  0     
14 SkyWest Airlines Inc.              32     0  0     
15 Southwest Airlines Co.          12275     0  0     
16 US Airways Inc.                 20536     0  0     </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Table seems to work.It makes sense because only shows 5 airlines with flights to SFO, which is true.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>And here is some bonus ggplot code to plot your dataframe</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>fly_into_sfo <span class="sc">%&gt;%</span> </span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># sort 'name' of airline by the numbers it times to flew to SFO</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">name =</span> <span class="fu">fct_reorder</span>(name, count)) <span class="sc">%&gt;%</span> </span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> count, </span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> name) <span class="sc">+</span></span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># a simple bar/column plot</span></span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb75-13"><a href="#cb75-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb75-14"><a href="#cb75-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add labels, so each bar shows the % of total flights </span></span>
<span id="cb75-15"><a href="#cb75-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> percent),</span>
<span id="cb75-16"><a href="#cb75-16" aria-hidden="true" tabindex="-1"></a>             <span class="at">hjust =</span> <span class="dv">1</span>, </span>
<span id="cb75-17"><a href="#cb75-17" aria-hidden="true" tabindex="-1"></a>             <span class="at">colour =</span> <span class="st">"white"</span>, </span>
<span id="cb75-18"><a href="#cb75-18" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">5</span>)<span class="sc">+</span></span>
<span id="cb75-19"><a href="#cb75-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb75-20"><a href="#cb75-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add labels to help our audience  </span></span>
<span id="cb75-21"><a href="#cb75-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Which airline dominates the NYC to SFO route?"</span>, </span>
<span id="cb75-22"><a href="#cb75-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"as % of total flights in 2013"</span>,</span>
<span id="cb75-23"><a href="#cb75-23" aria-hidden="true" tabindex="-1"></a>       <span class="at">x=</span> <span class="st">"Number of flights"</span>,</span>
<span id="cb75-24"><a href="#cb75-24" aria-hidden="true" tabindex="-1"></a>       <span class="at">y=</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb75-25"><a href="#cb75-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb75-26"><a href="#cb75-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb75-27"><a href="#cb75-27" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb75-28"><a href="#cb75-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># change the theme-- i just googled those , but you can use the ggThemeAssist add-in</span></span>
<span id="cb75-29"><a href="#cb75-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># https://cran.r-project.org/web/packages/ggThemeAssist/index.html</span></span>
<span id="cb75-30"><a href="#cb75-30" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb75-31"><a href="#cb75-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="co">#</span></span>
<span id="cb75-32"><a href="#cb75-32" aria-hidden="true" tabindex="-1"></a>    <span class="co"># so title is left-aligned</span></span>
<span id="cb75-33"><a href="#cb75-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title.position =</span> <span class="st">"plot"</span>,</span>
<span id="cb75-34"><a href="#cb75-34" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb75-35"><a href="#cb75-35" aria-hidden="true" tabindex="-1"></a>    <span class="co"># text in axes appears larger        </span></span>
<span id="cb75-36"><a href="#cb75-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">12</span>),</span>
<span id="cb75-37"><a href="#cb75-37" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb75-38"><a href="#cb75-38" aria-hidden="true" tabindex="-1"></a>    <span class="co"># title text is bigger</span></span>
<span id="cb75-39"><a href="#cb75-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">18</span>)</span>
<span id="cb75-40"><a href="#cb75-40" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb75-41"><a href="#cb75-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-42"><a href="#cb75-42" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add one final layer of NULL, so if you comment out any lines</span></span>
<span id="cb75-43"><a href="#cb75-43" aria-hidden="true" tabindex="-1"></a>  <span class="co"># you never end up with a hanging `+` that awaits another ggplot layer</span></span>
<span id="cb75-44"><a href="#cb75-44" aria-hidden="true" tabindex="-1"></a>  <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="homework1_files/figure-html/ggplot-flights-toSFO-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="problem-9-lets-take-a-look-at-cancellations-of-flights-to-sfo.-we-create-a-new-dataframe-cancellations-as-follows" class="level2">
<h2 class="anchored" data-anchor-id="problem-9-lets-take-a-look-at-cancellations-of-flights-to-sfo.-we-create-a-new-dataframe-cancellations-as-follows">Problem 9: Let’s take a look at cancellations of flights to SFO. We create a new dataframe <code>cancellations</code> as follows</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>cancellations <span class="ot">&lt;-</span> flights <span class="sc">%&gt;%</span> </span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># just filter for destination == 'SFO'</span></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(dest <span class="sc">==</span> <span class="st">'SFO'</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># a cancelled flight is one with no `dep_time` </span></span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(dep_time))</span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a><span class="co">#I want you to think how we would organise our data manipulation to create the following plot. No need to write the code, just explain in words how you would go about it.</span></span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a><span class="do">##ANSWER</span></span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-13"><a href="#cb76-13" aria-hidden="true" tabindex="-1"></a><span class="co">#First, we need to join the data with airlines table to obtain the name of the airline</span></span>
<span id="cb76-14"><a href="#cb76-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-15"><a href="#cb76-15" aria-hidden="true" tabindex="-1"></a><span class="co">#Then, we need to summarize the data with the following fields:</span></span>
<span id="cb76-16"><a href="#cb76-16" aria-hidden="true" tabindex="-1"></a><span class="do">## name (airline)</span></span>
<span id="cb76-17"><a href="#cb76-17" aria-hidden="true" tabindex="-1"></a><span class="do">## month</span></span>
<span id="cb76-18"><a href="#cb76-18" aria-hidden="true" tabindex="-1"></a><span class="do">## dep_time (the value we will plot)</span></span>
<span id="cb76-19"><a href="#cb76-19" aria-hidden="true" tabindex="-1"></a><span class="do">## origin (to differentiate graphs for destination to EWR or JFK)</span></span>
<span id="cb76-20"><a href="#cb76-20" aria-hidden="true" tabindex="-1"></a><span class="co"># To summarize, we need to count the times a flight was cancelled (and plot that value)</span></span>
<span id="cb76-21"><a href="#cb76-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-22"><a href="#cb76-22" aria-hidden="true" tabindex="-1"></a><span class="co">#Finally, plot the graph with all of these variables mentioned above</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="problem-10-on-your-own-hollywood-age-gap" class="level2">
<h2 class="anchored" data-anchor-id="problem-10-on-your-own-hollywood-age-gap">Problem 10: On your own – Hollywood Age Gap</h2>
<p>The website <a href="https://hollywoodagegap.com" class="uri">https://hollywoodagegap.com</a> is a record of <em>THE AGE DIFFERENCE IN YEARS BETWEEN MOVIE LOVE INTERESTS</em>. This is an informational site showing the age gap between movie love interests and the data follows certain rules:</p>
<ul>
<li>The two (or more) actors play actual love interests (not just friends, coworkers, or some other non-romantic type of relationship)</li>
<li>The youngest of the two actors is at least 17 years old</li>
<li>No animated characters</li>
</ul>
<p>The age gaps dataset includes “gender” columns, which always contain the values “man” or “woman”. These values appear to indicate how the characters in each film identify and some of these values do not match how the actor identifies. We apologize if any characters are misgendered in the data!</p>
<p>The following is a data dictionary of the variables used</p>
<table class="table">
<colgroup>
<col style="width: 23%">
<col style="width: 23%">
<col style="width: 52%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">variable</th>
<th style="text-align: left;">class</th>
<th style="text-align: left;">description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">movie_name</td>
<td style="text-align: left;">character</td>
<td style="text-align: left;">Name of the film</td>
</tr>
<tr class="even">
<td style="text-align: left;">release_year</td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;">Release year</td>
</tr>
<tr class="odd">
<td style="text-align: left;">director</td>
<td style="text-align: left;">character</td>
<td style="text-align: left;">Director of the film</td>
</tr>
<tr class="even">
<td style="text-align: left;">age_difference</td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;">Age difference between the characters in whole years</td>
</tr>
<tr class="odd">
<td style="text-align: left;">couple_number</td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;">An identifier for the couple in case multiple couples are listed for this film</td>
</tr>
<tr class="even">
<td style="text-align: left;">actor_1_name</td>
<td style="text-align: left;">character</td>
<td style="text-align: left;">The name of the older actor in this couple</td>
</tr>
<tr class="odd">
<td style="text-align: left;">actor_2_name</td>
<td style="text-align: left;">character</td>
<td style="text-align: left;">The name of the younger actor in this couple</td>
</tr>
<tr class="even">
<td style="text-align: left;">character_1_gender</td>
<td style="text-align: left;">character</td>
<td style="text-align: left;">The gender of the older character, as identified by the person who submitted the data for this couple</td>
</tr>
<tr class="odd">
<td style="text-align: left;">character_2_gender</td>
<td style="text-align: left;">character</td>
<td style="text-align: left;">The gender of the younger character, as identified by the person who submitted the data for this couple</td>
</tr>
<tr class="even">
<td style="text-align: left;">actor_1_birthdate</td>
<td style="text-align: left;">date</td>
<td style="text-align: left;">The birthdate of the older member of the couple</td>
</tr>
<tr class="odd">
<td style="text-align: left;">actor_2_birthdate</td>
<td style="text-align: left;">date</td>
<td style="text-align: left;">The birthdate of the younger member of the couple</td>
</tr>
<tr class="even">
<td style="text-align: left;">actor_1_age</td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;">The age of the older actor when the film was released</td>
</tr>
<tr class="odd">
<td style="text-align: left;">actor_2_age</td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;">The age of the younger actor when the film was released</td>
</tr>
</tbody>
</table>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>age_gaps <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">'https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-02-14/age_gaps.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 1155 Columns: 13
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (6): movie_name, director, actor_1_name, actor_2_name, character_1_gend...
dbl  (5): release_year, age_difference, couple_number, actor_1_age, actor_2_age
date (2): actor_1_birthdate, actor_2_birthdate

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
</div>
<p>How would you explore this data set? Here are some ideas of tables/ graphs to help you with your analysis</p>
<ul>
<li><p>How is <code>age_difference</code> distributed? What’s the ‘typical’ <code>age_difference</code> in movies?</p></li>
<li><p>The <code>half plus seven\</code> rule. Large age disparities in relationships carry certain stigmas. One popular rule of thumb is the <a href="https://en.wikipedia.org/wiki/Age_disparity_in_sexual_relationships#The_.22half-your-age-plus-seven.22_rule">half-your-age-plus-seven</a> rule. This rule states you should never date anyone under half your age plus seven, establishing a minimum boundary on whom one can date. In order for a dating relationship to be acceptable under this rule, your partner’s age must be:</p></li>
</ul>
<p><span class="math display">\[\frac{\text{Your age}}{2} + 7 \\\&lt; \text{Partner Age} \\\&lt; (\text{Your age} - 7) \\\* 2\]</span> How frequently does this rule apply in this dataset?</p>
<ul>
<li>Which movie has the greatest number of love interests?</li>
<li>Which actors/ actresses have the greatest number of love interests in this dataset?</li>
<li>Is the mean/median age difference staying constant over the years (1935 - 2022)?</li>
<li>How frequently does Hollywood depict same-gender love interests?</li>
</ul>
</section>
</section>
<section id="details" class="level1">
<h1>Details</h1>
<ul>
<li>Who did you collaborate with: No one.</li>
<li>Approximately how much time did you spend on this problem set: Don’t remember, but I believe between 6-8 hours</li>
<li>What, if anything, gave you the most trouble: GIT :(</li>
</ul>
<blockquote class="blockquote">
<p>As a true test to yourself, do you understand the code you submitted and are you able to explain it to someone else? Sure!</p>
</blockquote>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>